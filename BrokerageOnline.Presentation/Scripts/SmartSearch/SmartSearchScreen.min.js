var SmartScreenSearch = { TempArns: [], GetChannel: function (e) { Utility.ServiceCall("POST", "BaseRackRateService.svc/GetChannel", '{"SearchText": ""}', "json", !1, !1, function (e) { for (var t = e.GetChannelResult, a = 0; a < t.length; a++) $("<option />").text(t[a].ChannelName).val(t[a].ChannelId).appendTo("#dd_channel"); $("#dd_channel").attr("multiple", "multiple"), $("#dd_channel").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_channel").multiselect("clearSelection") }) }, GetARN: function () { Utility.ServiceCall("POST", "BaseRackRateService.svc/GetARN", JSON.stringify({ SearchText: "", SubregionID: 0 }), "json", !1, !1, function (e) { SmartScreenSearch.TempArns = [], SmartScreenSearch.TempArns = JSON.parse(e.GetARNResult), $("#txt_arn_info").empty(), $(".token-input-list-facebook").remove(), $("#txt_arn_info").tokenInput(SmartScreenSearch.TempArns, { theme: "facebook", preventDuplicates: !0, resultsLimit: 10, onAdd: function (e) { var t = $("#txt_arn_info").tokenInput("get"), a = []; $.each(t, function (e, t) { a.push(t.name) }), SmartScreenSearch.GetDistributor(e.id, "add") }, onDelete: function (e) { SmartScreenSearch.GetDistributor(e.id, "remove") } }), $("#dd_arn").multiselect("clearSelection") }) }, GetARNName: function () { Utility.ServiceCall("POST", "BaseRackRateService.svc/GetARNName", JSON.stringify({ SearchText: "", SubregionID: 0 }), "json", !1, !1, function (e) { var t = []; t = JSON.parse(e.GetARNNameResult), $("#txt_arn_name_info").empty(), $("#txt_arn_name_info").tokenInput(t, { theme: "facebook", preventDuplicates: !0, resultsLimit: 10, onAdd: function (e) { var t = $("#txt_arn_name_info").tokenInput("get"), a = []; $.each(t, function (e, t) { a.push(t.name) }), SmartScreenSearch.LoadinfoARNToken(e.id, "add", e.id) }, onDelete: function (e) { SmartScreenSearch.LoadinfoARNToken(e.id, "remove", e.id) } }) }) }, LoadinfoARNToken: function (e, t, a) { "add" == t ? Utility.ServiceCall("POST", "BaseRackRateService.svc/GetDistributor", JSON.stringify({ SearchText: e }), "json", !1, !1, function (t) { var a = t.GetDistributorResult; $.each($("#txt_arn_info").tokenInput("get"), function (t, a) { a.id == e }), $.each(a, function (t, a) { a.DistributorId == e && $("#txt_arn_info").tokenInput("add", { id: a.DistributorId, name: a.ARN }) }) }) : $("#txt_arn_info").tokenInput("remove", { id: a }) }, GetDistributor: function (e, t) { "add" == t ? Utility.ServiceCall("POST", "BaseRackRateService.svc/GetChildArn", JSON.stringify({ ArnNo: e }), "json", !1, !1, function (t) { var a = t.GetChildArnResult; 1 == a.length ? $("#txt_arn_name_info").tokenInput("add", { id: a[0].DistributorId, name: a[0].DistributorName }) : Utility.ServiceCall("POST", "BaseRackRateService.svc/GetDistributor", JSON.stringify({ SearchText: e }), "json", !1, !1, function (e) { var t = e.GetDistributorResult; $.each($("#txt_arn_name_info").tokenInput("get"), function (e, a) { a.id == t[0].DistributorId }), $("#txt_arn_name_info").tokenInput("add", { id: t[0].DistributorId, name: t[0].DistributorName }) }) }) : Utility.ServiceCall("POST", "BaseRackRateService.svc/GetDistributor", JSON.stringify({ SearchText: e }), "json", !1, !1, function (e) { var t = e.GetDistributorResult; $("#txt_arn_name_info").tokenInput("remove", { id: t[0].DistributorId }) }) }, GetDistributorCategory: function (e) { var t = "" == e ? "" : e.toString(); t = JSON.stringify(t), Utility.ServiceCall("POST", "BaseRackRateService.svc/GetDistributorCategory", '{"SearchText": ' + t + "}", "json", !1, !1, function (e) { var t = e.GetDistributorCategoryResult; $("#dd_dist_category").multiselect("destroy"), $("#dd_dist_category").empty(); for (var a = 0; a < t.length; a++) $("<option />").text(t[a].DistributorCategoryName).val(t[a].DistributorCategoryId).appendTo("#dd_dist_category"); $("#dd_dist_category").attr("multiple", "multiple"), $("#dd_dist_category").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_dist_category").multiselect("clearSelection") }) }, LoadZone: function () { Utility.ServiceCall("POST", "MasterService.svc/Getzoneandregion", JSON.stringify({ SearchText: "zone" }), "json", !1, !1, function (e) { var t = e.GetzoneandregionResult; $("#dd_zone").multiselect("destroy"), $("#dd_zone").empty(); for (var a = 0; a < t.length; a++) $("<option />").text(t[a].ZoneName).val(t[a].ZoneId).appendTo("#dd_zone"); $("#dd_zone").attr("multiple", "multiple"), $("#dd_zone").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_zone").multiselect("clearSelection") }) }, GetSubRegion: function () { Utility.ServiceCall("POST", "MasterService.svc/GetBranchMaster", JSON.stringify({ SearchText: "" }), "json", !1, !1, function (e) { var t = e.GetBranchMasterResult; $("#dd_branch").multiselect("destroy"), $("#dd_branch").empty(); for (var a = 0; a < t.length; a++) $("<option />").text(t[a].BranchName).val(t[a].BranchId).appendTo("#dd_branch"); $("#dd_branch").attr("multiple", "multiple"), $("#dd_branch").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_branch").multiselect("clearSelection") }) }, GetMemoTypes: function (e) { Utility.ServiceCall("POST", "AdHocService.svc/GetMemoTypes", JSON.stringify({ MemoParentID: parseInt(e) }), "json", !1, !1, function (e) { var t = e.GetMemoTypesResult; $("#dd_memo_type").multiselect("destroy"), $("#dd_memo_type").empty(); for (var a = 0; a < t.length; a++) $("<option />").text(t[a].MemoTypeName).val(t[a].MemoTypeId).appendTo("#dd_memo_type"); $("#dd_memo_type").attr("multiple", "multiple"), $("#dd_memo_type").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_memo_type").multiselect("clearSelection") }) }, GetSchemeCategory: function (e) { Utility.ServiceCall("POST", "BaseRackRateService.svc/GetSchemeCategory", JSON.stringify({ SearchText: "" }), "json", !1, !1, function (e) { var t = e.GetSchemeCategoryResult; $("#dd_Scheme_category").multiselect("destroy"), $("#dd_Scheme_category").empty(); for (var a = 0; a < t.length; a++) $("<option />").text(t[a].SchemeCategoryName).val(t[a].SchemeCategoryId).appendTo("#dd_Scheme_category"); $("#dd_Scheme_category").attr("multiple", "multiple"), $("#dd_Scheme_category").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_Scheme_category").multiselect("clearSelection") }) }, GetScheme: function (e) { var t = "" == e ? "" : e.toString(); t = JSON.stringify(t), Utility.ServiceCall("POST", "BaseRackRateService.svc/GetScheme", '{"SearchText": ' + t + "}", "json", !1, !1, function (e) { var t = e.GetSchemeResult; $("#dd_Scheme").multiselect("destroy"), $("#dd_Scheme").empty(); for (var a = 0; a < t.length; a++) $("<option />").text(t[a].SchemeName).val(t[a].SchemeId).appendTo("#dd_Scheme"); $("#dd_Scheme").attr("multiple", "multiple"), $("#dd_Scheme").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_Scheme").multiselect("clearSelection") }) }, LoadUsers: function () { var e = ""; Utility.ServiceCall("POST", "MasterService.svc/GetUserView", JSON.stringify({ SearchText: e }), "json", !1, !1, function (e) { var t = e.GetUserViewResult; $("#dd_Created_By").multiselect("destroy"), $("#dd_Created_By").empty(); for (var a = 0; a < t.length; a++) "" != t[a].FullName && $("<option />").text(t[a].FullName).val(t[a].UserId).appendTo("#dd_Created_By"); $("#dd_Created_By").attr("multiple", "multiple"), $("#dd_Created_By").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_Created_By").multiselect("clearSelection") }) }, RefreshControls: function () { $("#dt_from").val(""), $("#dt_to").val(""), $("#txt_arn_info").tokenInput("clear"), $("#dd_channel").multiselect("clearSelection"), $("#dd_dist_category").multiselect("clearSelection"), $("#dd_Scheme_category").multiselect("clearSelection"), $("#dd_Scheme").multiselect("clearSelection"), $("#dd_zone").multiselect("clearSelection"), $("#dd_branch").multiselect("clearSelection"), $("#dd_memo_type").multiselect("clearSelection"), $("#dd_Memo_status").multiselect("clearSelection"), $("#dd_Created_By").multiselect("clearSelection"), $("#grid_search_result").jqGrid("clearGridData") }, DefaultControlSelect: function () { $("#dt_from").val(""), $("#dt_to").val(""), $("#dd_dist_category").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_Scheme").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_branch").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }); var e = ["Saved", "Initiated", "Reviewed", "Approved", "Discarded", "Active", "In-Active", "Deleted"]; $("#dd_Memo_status").multiselect("destroy"), $("#dd_Memo_status").empty(); for (var t = 0; t < e.length; t++) "" != e[t].FullName && $("<option />").text(e[t]).val(e[t]).appendTo("#dd_Memo_status"); $("#dd_Memo_status").attr("multiple", "multiple"), $("#dd_Memo_status").multiselect({ includeSelectAllOption: !0, enableFiltering: !0, enableCaseInsensitiveFiltering: !0 }), $("#dd_Memo_status").multiselect("clearSelection") }, SearchSmartScreenDetails: function () { var e, t, a, n, i, r, o, l, s, c, d, m; e = Utility.ReturnSelectedValue("dd_channel"), t = Utility.ReturnSelectedValue("dd_dist_category"), n = Utility.ReturnSelectedValue("dd_Scheme_category"), i = Utility.ReturnSelectedValue("dd_Scheme"), r = Utility.ReturnSelectedValue("dd_zone"), o = Utility.ReturnSelectedValue("dd_branch"), l = Utility.ReturnSelectedValue("dd_memo_type"), s = Utility.ReturnSelectedValue("dd_Memo_status"), m = Utility.ReturnSelectedValue("dd_Created_By"); var S = $("#txt_arn_info").tokenInput("get"), u = []; $.each(S, function (e, t) { u.push(t.name) }), a = u.toString(), c = $("#dt_from").val(), d = $("#dt_to").val(), sessionStorage.setItem("SS_Channel", e), sessionStorage.setItem("SS_DistributorCategory", t), sessionStorage.setItem("SS_SchemeCategory", n), sessionStorage.setItem("SS_Scheme", i), sessionStorage.setItem("SS_Zone", r), sessionStorage.setItem("SS_Branch", o), sessionStorage.setItem("SS_MemoType", l), sessionStorage.setItem("SS_MemoStatus", s), sessionStorage.setItem("SS_CreatedBy", m), sessionStorage.setItem("SS_ARN", a), sessionStorage.setItem("SS_PeriodFrom", c), sessionStorage.setItem("SS_PeriodTo", d), SmartScreenSearch.GetSmartSearchDetails(e, t, a, n, i, r, o, l, s, c, d, m) }, GetSmartSearchDetails: function (e, t, a, n, i, r, o, l, s, c, d, m) { Utility.ServiceCall("POST", "MasterService.svc/GetSmartSearchScreen", JSON.stringify({ Channel: e, DistributorCategory: t, ARN: a, SchemeCategory: n, Scheme: i, Zone: r, Branch: o, MemoType: l, MemoStatus: s, PeriodFrom: c, PeriodTo: d, CreatedBy: m, SearchFilter: Utility.ListSearchText }), "json", !1, !1, function (e) { var t = e.GetSmartSearchScreenResult; if ($("#grid_search_result").jqGrid("clearGridData"), void 0 != t && t.length > 0) { for (var a = 0; a < t.length; a++) jQuery("#grid_search_result").jqGrid("addRowData", t[a].id, t[a]); jQuery("#grid_search_result").closest(".ui-jqgrid-bdiv").scrollTop(0) } else Utility.writeNotification("error", "Sorry, No Records Found.", "", !0) }) }, ExportToExcel: function () { ExportToExcel.ExportJQGridDataToExcel("#grid_search_result", "SmartSearchRecords.xls") }, ReturnSSDetailHyperLink: function (e, t, a, n) { switch (sessionStorage.CurrentMenuselected = "nav_information", a.MemoTypeId) { case 1: return "Saved" == a.MemoStatusName ? (sessionStorage.CurrentMenuselected = "nav_initiate", "<a href='./RackRateInitiate.html?tokenkey=" + sessionStorage.sessionId + "&user=" + sessionStorage.userId + "&memono=" + a.PaymentMemoId + "&status=" + a.MemoStatusName + "&ptype=ss' style='text-decoration:none; color:#006bb4;border-bottom:1px solid #006bb4;'>" + a.MemoNumber + "</a>") : (sessionStorage.CurrentMenuselected = "nav_information", "<a href='./RackRateReview.html?tokenkey=" + sessionStorage.sessionId + "&user=" + sessionStorage.userId + "&memono=" + a.PaymentMemoId + "&status=" + a.MemoStatusName + "&ptype=ss' style='text-decoration:none; color:#006bb4;border-bottom:1px solid #006bb4;'>" + a.MemoNumber + "</a>"); case 2: return "<a href='./TieUpInformation.html?tokenkey=" + sessionStorage.sessionId + "&user=" + sessionStorage.userId + "&memono=" + a.PaymentMemoId + "&status=" + a.MemoStatusName + "&ptype=ss' style='text-decoration:none; color:#006bb4;border-bottom:1px solid #006bb4;'>" + a.MemoNumber + "</a>"; case 5: return "<a href='./SIPInformation.html?tokenkey=" + sessionStorage.sessionId + "&user=" + sessionStorage.userId + "&memono=" + a.PaymentMemoId + "&status=" + a.MemoStatusName + "&ptype=ss' style='text-decoration:none; color:#006bb4;border-bottom:1px solid #006bb4;'>" + a.MemoNumber + "</a>"; default: return 3 == a.MemoTypeId || 4 == a.MemoTypeId ? '<a href="#" style="text-decoration:none; color:#006bb4;border-bottom:1px solid #006bb4;" onclick="SmartScreenSearch.PaymentDetail(' + a.PaymentListId + "," + a.AdhocBatchID + "," + a.MemoTypeId + ');">' + a.MemoNumber + "</a>" : a.MemoNumber } }, PaymentDetail: function (e, t, a) { var n = ""; 0 == t && (n = "SmartSearch"), Utility.ServiceCall("POST", "AdHocService.svc/GetAdHocDetails", JSON.stringify({ PaymentTypeID: e, AdhocStatus: n, AdhocBatchID: t, CreatedByID: 0 }), "json", !1, !1, function (e) { var t = e.GetAdHocDetailsResult; if ($("#grid_sub_processing").jqGrid("clearGridData"), void 0 != t && t.length > 0) { for (var a = 0; a < t.length; a++) jQuery("#grid_sub_processing").jqGrid("addRowData", parseInt(a + 1), t[a]); $("#modal_adhoc_payment_record").modal("show") } }) }, SetControlValues: function (e, t, a, n, i, r, o, l, s, c, d, m) { var S = null != a ? a.split(",") : "", u = null != e ? e.split(",") : "", h = null != t ? t.split(",") : "", _ = null != n ? n.split(",") : "", y = null != i ? i.split(",") : "", p = null != r ? r.split(",") : "", g = null != o ? o.split(",") : "", f = null != l ? l.split(",") : "", v = null != s ? s.split(",") : "", b = null != m ? m.split(",") : ""; if ($("#dt_from").val(c), $("#dt_to").val(d), $("#txt_arn_info").tokenInput("clear"), $("#dd_channel").multiselect("clearSelection"), $("#dd_dist_category").multiselect("clearSelection"), $("#dd_Scheme_category").multiselect("clearSelection"), $("#dd_Scheme").multiselect("clearSelection"), $("#dd_zone").multiselect("clearSelection"), $("#dd_branch").multiselect("clearSelection"), $("#dd_memo_type").multiselect("clearSelection"), $("#dd_Memo_status").multiselect("clearSelection"), $("#dd_Created_By").multiselect("clearSelection"), null != S) for (var R = 0; R < S.length; R++) $.each(SmartScreenSearch.TempArns, function (e, t) { t.name == S[R] && $("#txt_arn_info").tokenInput("add", { id: t.id, name: t.name }) }); if (null != u) for (var R = 0; R < u.length; R++) "" != u[R] && $("#dd_channel").multiselect("select", u[R]); if (null != h) for (var R = 0; R < h.length; R++) "" != h[R] && $("#dd_dist_category").multiselect("select", h[R]); if (null != _) for (var R = 0; R < _.length; R++) "" != _[R] && $("#dd_Scheme_category").multiselect("select", _[R]); if (null != y) for (var R = 0; R < y.length; R++) "" != y[R] && $("#dd_Scheme").multiselect("select", y[R]); if (null != p) for (var R = 0; R < p.length; R++) "" != p[R] && $("#dd_zone").multiselect("select", p[R]); if (null != g) for (var R = 0; R < g.length; R++) "" != g[R] && $("#dd_branch").multiselect("select", g[R]); if (null != f) for (var R = 0; R < f.length; R++) "" != f[R] && $("#dd_memo_type").multiselect("select", f[R]); if (null != v) for (var R = 0; R < v.length; R++) "" != v[R] && $("#dd_Memo_status").multiselect("select", v[R]); if (null != b) for (var R = 0; R < b.length; R++) "" != b[R] && $("#dd_Created_By").multiselect("select", b[R]) }, ReturnViewRemarksHyperLink: function (e, t, a, n) { return '<a href="#" style="text-decoration:none; color:#006bb4;border-bottom:1px solid #006bb4;" onclick="SmartScreenSearch.AdHocPaymentDetail(' + a.PaymentListId + ');">View Remarks</a>' }, AdHocPaymentDetail: function (e) { Utility.ServiceCall("POST", "AdHocService.svc/GetAuditPaymentDetails", JSON.stringify({ ID: parseInt(e) }), "json", !1, !1, function (e) { var t = e.GetAuditPaymentDetailsResult; if ($("#grid_view_remarks").jqGrid("clearGridData"), void 0 != t && t.length > 0) { for (var a = 0; a < t.length; a++) jQuery("#grid_view_remarks").jqGrid("addRowData", t[a].id, t[a]); $("#div_modal_view_remarks").modal("show") } }) }, LoadMailingList: function () { var e = ""; Utility.ServiceCall("POST", "MasterService.svc/GetMailingListMaster", JSON.stringify({ SearchText: e }), "json", !1, !1, function (e) { for (var t = e.GetMailingListMasterResult, a = 0; a < t.length; a++) $("<option />").text(t[a].ListName).val(t[a].MailingListId).appendTo("#dd_mailing_list") }) }, mailingListOnchange: function (e) { var t = $(e).val(); $("#txt_cc").tokenInput("clear"), $("#txt_bcc").tokenInput("clear"), $("#txt_to").tokenInput("clear"), Utility.ServiceCall("POST", "MasterService.svc/GetMailingListMaster", JSON.stringify({ SearchText: t }), "json", !1, !1, function (e) { var t = e.GetMailingListMasterResult, a = t[0].EmailTo.split(","); $.each(a, function (e, t) { "" != t && $("#txt_to").tokenInput("add", { id: t, name: t }) }); var n = t[0].EmailCC.split(","); $.each(n, function (e, t) { "" != t && $("#txt_cc").tokenInput("add", { id: t, name: t }) }); var n = t[0].EmailBCC.split(","); $.each(n, function (e, t) { "" != t && $("#txt_bcc").tokenInput("add", { id: t, name: t }) }) }) }, Viewtoccusers: function () { var e = jQuery("#grid_search_result").jqGrid("getRowData"); e.length > 0 ? ($("#modal_select_to_cc").modal("show"), SmartScreenSearch.GetTOCCusers("")) : Utility.writeNotification("error", "Select Memo to  Send Email", "", !0) }, GetTOCCusers: function (e) { $("#txt_to").siblings("ul").remove(), $("#txt_cc").siblings("ul").remove(), $("#txt_bcc").siblings("ul").remove(); var t = e.split(","); e = t[0], Utility.ServiceCall("POST", "BaseRackRateService.svc/getmailinglistobject", JSON.stringify({ SearchText: e, Module: "adhoc" }), "json", !1, !1, function (e) { var t = []; $("#txt_to").empty(), t = JSON.parse(e.getmailinglistobjectResult), $("#txt_to").tokenInput(t, { theme: "facebook", preventDuplicates: !0, resultsLimit: 10, allowFreeTagging: !0 }) }), Utility.ServiceCall("POST", "BaseRackRateService.svc/getmailinglistobject", JSON.stringify({ SearchText: "", Module: "adhoc" }), "json", !1, !1, function (e) { var t = []; $("#txt_cc").empty(), $("#txt_bcc").empty(), t = JSON.parse(e.getmailinglistobjectResult), $("#txt_cc").tokenInput(t, { theme: "facebook", preventDuplicates: !0, resultsLimit: 10, allowFreeTagging: !0 }), $("#txt_bcc").tokenInput(t, { theme: "facebook", preventDuplicates: !0, resultsLimit: 10, allowFreeTagging: !0 }) }), Utility.ServiceCall("POST", "BaseRackRateService.svc/GetDistributorEmail", JSON.stringify({ SearchText: e, Module: "adhoc" }), "json", !1, !1, function (e) { var t = []; t = JSON.parse(e.GetDistributorEmailResult), $.each(t, function (e, t) { $("#txt_to").tokenInput("add", { id: t.id, name: t.name }) }) }) }, PrintDetails: function () { var e = jQuery("#grid_search_result").jqGrid("getRowData"); if (e.length > 0) { var t = SmartScreenSearch.GetSmartSheetURL(); Utility.openWin(t) } else Utility.writeNotification("error", "Select Memo to Print", "", !0) }, GetSmartSheetURL: function () { var e = ""; e = Utility.SmartSheetReportURL; var t, a, n, i, r, o, l, s, c, d; t = Utility.ReturnSelectedValue("dd_channel"), a = Utility.ReturnSelectedValue("dd_dist_category"), i = Utility.ReturnSelectedValue("dd_Scheme_category"), r = Utility.ReturnSelectedValue("dd_Scheme"), o = Utility.ReturnSelectedValue("dd_zone"), l = Utility.ReturnSelectedValue("dd_branch"), s = Utility.ReturnSelectedValue("dd_memo_type"), c = Utility.ReturnSelectedValue("dd_Memo_status"), d = Utility.ReturnSelectedValue("dd_Created_By"); var m = $("#txt_arn_info").tokenInput("get"), S = []; $.each(m, function (e, t) { S.push(t.name) }), n = S.toString(); var u = "", h = "", _ = $("#dt_from").val().split("/"), y = $("#dt_to").val().split("/"); return _.length > 1 && (u = "20" + _[2] + "-" + _[1] + "-" + _[0]), y.length > 1 && (h = "20" + y[2] + "-" + y[1] + "-" + y[0]), e += "&From_P=" + u + "&To_P=" + h, e += "&" + Utility.GetReportQuery("Distcat_P", a), e += "&" + Utility.GetReportQuery("Chnl_P", t), e += "&" + Utility.GetReportQuery("Arn_P", n), e += "&" + Utility.GetReportQuery("Schemecat_P", i), e += "&" + Utility.GetReportQuery("Scheme_P", r), e += "&" + Utility.GetReportQuery("Zone_P", o), e += "&" + Utility.GetReportQuery("Branch_P", l), e += "&" + Utility.GetReportQuery("Memotype_P", s), e += "&" + Utility.GetReportQuery("Memostatus_P", c), e += "&" + Utility.GetReportQuery("Createdby_P", d), e += "&output-target=pageable%2Fpdf&userid=joe&password=password" }, remove_tags: function (e) { return jQuery(e).text() }, openWin: function (e) { sessionStorage.reportURL = e; window.open("ReportViewer.html", "_blank") }, AdvanceSearchClick: function () { var e = { multipleSearch: !0, multipleGroup: !0, showQuery: !0, recreateFilter: !0 }; jQuery("#grid_search_result").jqGrid("searchGrid", e) }, RefreshAdvanceSearchDetails: function () { Utility.ListSearchText = "", SmartScreenSearch.SearchSmartScreenDetails() } }; $(function () {
    if (SmartScreenSearch.GetChannel(""), SmartScreenSearch.GetDistributorCategory(""), SmartScreenSearch.LoadZone(), SmartScreenSearch.GetARN(), SmartScreenSearch.GetSubRegion(), SmartScreenSearch.LoadUsers(), SmartScreenSearch.GetMemoTypes(0), SmartScreenSearch.GetSchemeCategory(""), SmartScreenSearch.GetScheme(""), SmartScreenSearch.DefaultControlSelect(), SmartScreenSearch.GetARNName(), $("#dt_from").datepicker({ dateFormat: "dd/mm/y", changeMonth: !0, changeYear: !0, onSelect: function (e) { $("#dt_to").datepicker({ dateFormat: "dd/mm/y", changeMonth: !0, changeYear: !0 }), $("#dt_to").attr("paabled", !1), $("#dt_to").datepicker("option", "minDate", e) } }), $("#dt_from").keydown(function (e) { var t = e.which ? e.which : e.keyCode; return 9 != t ? !1 : void 0 }), $("#dt_to").keydown(function (e) { var t = e.which ? e.which : e.keyCode; return 9 != t ? !1 : void 0 }), jQuery("#grid_search_result").jqGrid({ datatype: "local", height: 300, width: null, shrinkToFit: !1, colNames: ["MemoNumber", "ARNNo.", "ARNName", "DistributorCategory", "SchemeCategory", "Scheme", "Channel", "DateFrom", "DateTo", "Zone", "Branch", "MemoType", "MemoStatus", "CreatedBy", "PaymentMemoId", "PaymentListId", "AdhocBatchID", "MemoTypeId"], colModel: [{ name: "MemoNumber", width: 150, index: "MemoNumber", align: "center", formatter: SmartScreenSearch.ReturnSSDetailHyperLink, sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "ARNNo", width: 90, index: "ARNNo", sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "ARNName", width: 250, index: "ARNName", sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "DistributorCategoryName", width: 190, index: "DistributorCategoryName", sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "SchemeCategoryName", width: 150, index: "SchemeCategoryName", sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "SchemeName", width: 250, index: "SchemeName", sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "ChannelName", width: 100, index: "ChannelName", sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "DateFrom", width: 120, index: "DateFrom", align: "center", sortable: !0, sorttype: "date", datefmt: "d/m/Y", formatoptions: { srcformat: "d/m/Y", newformat: "d/m/Y" }, searchoptions: { sopt: ["cn", "eq", "ne", "lt", "gt"] } }, { name: "DateTo", width: 110, index: "DateTo", align: "center", sortable: !0, sorttype: "date", datefmt: "d/m/Y", formatoptions: { srcformat: "d/m/Y", newformat: "d/m/Y" }, searchoptions: { sopt: ["cn", "eq", "ne", "lt", "gt"] } }, { name: "ZoneName", index: "ZoneName", width: 100, sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "SubRegionName", index: "SubRegionName", width: 100, sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "MemoTypeName", index: "MemoTypeName", width: 210, sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "MemoStatusName", index: "MemoStatusName", width: 100, sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "RaisedByName", index: "RaisedByName", sortable: !1, searchoptions: { sopt: ["cn", "nc", "eq", "bw", "ew", "bn", "en"] } }, { name: "PaymentMemoId", index: "PaymentMemoId", hidden: !0, sortable: !1 }, { name: "PaymentListId", index: "PaymentListId", hidden: !0, sortable: !1 }, { name: "AdhocBatchID", index: "AdhocBatchID", hidden: !0, sortable: !1 }, { name: "MemoTypeId", index: "MemoTypeId", hidden: !0, sortable: !1 }], sortname: "PaymentMemoId", viewrecords: !0, sortorder: "desc", gridview: !0, width: null, shrinkToFit: !1, gridview: !0, ignoreCase: !0 }).jqGrid("filterToolbar", { searchOperators: !0, stringResult: !0, searchOnEnter: !1, defaultSearch: "cn", multipleSearch: !0 }), jQuery("#grid_search_result").jqGrid("navGrid", "#pager", { add: !1, edit: !1, del: !1, search: !0, refresh: !0 }, {}, {}, {}, { multipleSearch: !0, multipleGroup: !0, showQuery: !0 }), $grid = $("#grid_sub_processing"), jQuery("#grid_sub_processing").jqGrid({ datatype: "local", height: 450, width: null, shrinkToFit: !1, colNames: ["S.No.", "ARN No.", "ARN Name", "Scheme", "Channel", "Branch", "Period From", "Period To", "Amount Basis", "Rate (Bps)", "AUM (Lakhs) / Gross Sales (Actual)", "Payment Amount", "Actual Amount Payable (Round Off)", "Remarks", "IsRequired", "PaymentMemoId", "PaymentListId"], colModel: [{ name: "SerialNo", index: "SerialNo", width: 60, align: "center", sortable: !1 }, { name: "ARNNo", width: 90, index: "ARNNo", sortable: !1 }, { name: "ARNName", width: 260, index: "ARNName", sortable: !1 }, { name: "SchemeName", width: 250, index: "SchemeName", sortable: !1 }, { name: "ChannelName", width: 90, index: "ChannelName", sortable: !1 }, { name: "BranchName", index: "BranchName", width: 105, sortable: !1 }, { name: "DateFrom", width: 120, index: "DateFrom", align: "center", sortable: !1 }, { name: "DateTo", width: 110, index: "DateTo", align: "center", sortable: !1 }, { name: "AmountBasisName", index: "AmountBasisName", width: 130, sortable: !1 }, { name: "Rate", index: "Rate", width: 90, sortable: !1 }, { name: "MobilizationAmount", index: "MobilizationAmount", width: 250, sortable: !1 }, { name: "PaymentAmount", index: "PaymentAmount", width: 200, sortable: !1 }, { name: "FreeTextField1", index: "FreeTextField1", width: 250, sortable: !1 }, { name: "", index: "", align: "center", formatter: SmartScreenSearch.ReturnViewRemarksHyperLink, sortable: !1 }, { name: "IsRequired", index: "IsRequired", hidden: !0, sortable: !1 }, { name: "PaymentMemoId", index: "PaymentMemoId", hidden: !0, sortable: !1 }, { name: "PaymentListId", index: "PaymentListId", hidden: !0, sortable: !1 }], afterInsertRow: function (e, t) { 0 == t.IsRequired && $("#grid_sub_processing").jqGrid("setRowData", e, !1, { background: "#FF5050" }); var a = $("#txt_arn_info").tokenInput("get"), n = []; $.each(a, function (e, t) { n.push(t.name) }); for (var i = 0; i < n.length; i++) t.ARNNo == n[i] && $("#grid_sub_processing").jqGrid("setRowData", e, !1, { background: "#01DF01" }) } }), jQuery("#grid_view_remarks").jqGrid({ datatype: "json", height: 200, width: 765, shrinkToFit: !1, colNames: ["Remarks", "Remarks By", "Modified Date"], colModel: [{ name: "Remarks", width: 545, index: "Remarks", align: "left", sortable: !1 }, { name: "RemarksBy", width: 100, index: "RemarksBy", sortable: !1 }, { name: "Date", width: 120, index: "Date", align: "left", sortable: !1 }] }), $("#btn_send_email").click(function () { var e = "", t = $("#txt_to").tokenInput("get"), a = []; $.each(t, function (e, t) { a.push(t.name) }), e = a.toString(); var n = "", i = $("#txt_cc").tokenInput("get"), r = []; $.each(i, function (e, t) { r.push(t.name) }), n = r.toString(); var o = "", l = $("#txt_bcc").tokenInput("get"), s = []; $.each(l, function (e, t) { s.push(t.name) }), o = s.toString(); var c = jQuery("#grid_search_result").jqGrid("getRowData"); if (c.length > 0) for (var d = 0; d < c.length; d++) if ("" != e) { var m = SmartScreenSearch.GetSmartSheetURL(), S = "Smart_Search_Sheet_Details"; Utility.ServiceCall("POST", "BaseRackRateService.svc/SendEmailMemo", JSON.stringify({ fileurl: m, filename: S, sendto: e, sendcc: n, typeval: 1, ModuleID: 1, MailStatus: "", sendbcc: o }), "json", !1, !1, function (e) { Utility.writeNotification("success", "Memo Emailed Successfully", "", !0) }), $("#modal_select_to_cc").modal("hide") } else Utility.writeNotification("error", "Please select atlease one TO User", "", !0); else Utility.writeNotification("error", "Select Memo to  Send Email", "", !0) }), void 0 != sessionStorage.SmartSearchScreen && "ss" == sessionStorage.SmartSearchScreen) { var e, t, a, n, i, r, o, l, s, c, d, m; e = sessionStorage.SS_Channel, t = sessionStorage.SS_DistributorCategory, n = sessionStorage.SS_SchemeCategory, i = sessionStorage.SS_Scheme, r = sessionStorage.SS_Zone, o = sessionStorage.SS_Branch, l = sessionStorage.SS_MemoType, s = sessionStorage.SS_MemoStatus, m = sessionStorage.SS_CreatedBy, a = sessionStorage.SS_ARN, c = sessionStorage.SS_PeriodFrom, d = sessionStorage.SS_PeriodTo, SmartScreenSearch.SetControlValues(e, t, a, n, i, r, o, l, s, c, d, m), SmartScreenSearch.GetSmartSearchDetails(e, t, a, n, i, r, o, l, s, c, d, m), sessionStorage.SmartSearchScreen = "" } $('#imgdt_to').click(function (e) {
        if ($('#dt_to').data('datepicker')) {$("#dt_to").datepicker("show");}else {return false;}}); $('#imgdt_from').click(function (e) { $("#dt_from").datepicker("show"); });});