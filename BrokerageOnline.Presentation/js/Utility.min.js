var pleaseWaitDiv = $('<div class="modal fade" id="pleaseWaitDialog" data-backdrop="static" data-keyboard="false"><div class="modal-dialog modal-sm"><div class="modal-header"><h1>Processing...</h1></div><div class="modal-body"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div></div></div>'), Utility = { ServiceUrl: "http://localhost:50262/", AdhocRemarks: "", enableSIP: !1, enableBackDate: !1, openPentaho: "", CamsReportUrl: "", DistributorReportUrl: "", RegenerateReportUrl: "", AdHocReportUrl: "", SIPReportUrl: "", TieUpCamsReportUrl: "", SIPCamsReportUrl: "", AdHocCAMS_FB: "", AdHocCAMS_MB: "", SmartSheetReportURL: "", AdhocSummaryReport: "", SchemeCatWiseReportURL: "", ChannelWiseReportURL: "", DistributorWiseReportURL: "", ZoneSummaryReport: "", ARNWiseReport: "", CAMSBrokerageFormatSummaryReport: "", ListSearchText: "", writeNotification: function (t, e, i, o) { var a = "2000", r = "0"; "error" == t && (a = "4000", r = "4000"), "norecords" == t && (a = "1000", r = "0"), o ? (o = !0, a = "16000", r = "2000") : o = !1, toastr.options = { closeButton: o, debug: !1, positionClass: "toast-top-mid", onclick: null, showDuration: "300", hideDuration: "1000", timeOut: a, extendedTimeOut: r, showEasing: "swing", hideEasing: "linear", showMethod: "fadeIn", hideMethod: "fadeOut" }, toastr.clear(), toastr[t](i, e) }, clearNotifications: function () { toastr.clear() }, showPleaseWait: function () { pleaseWaitDiv.modal() }, hidePleaseWait: function () { pleaseWaitDiv.modal("hide") }, removeDuplicates: function (t) { var e, i = t.length, o = [], a = {}; for (e = 0; i > e; e++) a[t[e]] = 0; for (e in a) o.push(e); return o }, GetParameterValues: function (t) { for (var e = window.location.href.slice(window.location.href.indexOf("?") + 1).split("&"), i = 0; i < e.length; i++) { var o = e[i].split("="); if (o[0] == t) return o[1] } }, GetHostURL: function () { var t = [], e = "", i = window.location.href, o = i.split("?")[0], a = o.split("/"); return t = a.splice(1, a.length - 1), e = "" == t[0] && -1 != t[1].indexOf("local") ? "http://" + t[1] : "" == t[0] ? "http://" + t[1] + "/" + t[2] : "http://" + t[0] + "/" + t[1] }, ServiceCall: function (t, e, i, o, a, r, n) { jQuery.support.cors = !0, $.ajax({ type: t, contentType: "application/json; charset=utf-8", url: Utility.ServiceUrl + e, data: i, dataType: o, processData: !0, async: r, success: n, error: function (t, e, i) { Utility.ServiceFailed(t, e, i) }, beforeSend: function (t) { t.setRequestHeader("SessionID", sessionStorage.sessionId) } }) }, ServiceFailed: function (t, e, i) { var o = t.responseText.split("'"); if (Utility.writeNotification("error", o[1], "", !0), t.responseText) { var a = t.responseText; i(a ? a : { Message: "Unknown server error." }) } }, GridAllowNumber: function (t) { $(t).keypress(function (t) { return 8 != t.which && 0 != t.which && (t.which < 48 || t.which > 57) ? !1 : void 0 }) }, GridAllowNumberto3: function (t) { $(t).keypress(function (t) { if (8 != t.which && 0 != t.which && (t.which < 48 || t.which > 57)) return !1; var e = (t.which ? t.which : t.keyCode, $(this).val()); return e.length > 2 ? !1 : void 0 }) }, GridAllowDecimal: function (t) { $(t).keypress(function (t) { var e = t.which ? t.which : t.keyCode, i = $(this).val(); if (46 == e) return i.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != i.indexOf(".") && i.split(".")[1].length > 1) { if (isNaN(parseFloat(this.value))) return; this.value = parseFloat(this.value).toFixed(1) } return !0 }) }, GridOnlyDecimal: function (t) { $(t).keypress(function (t) { var e = t.which ? t.which : t.keyCode, i = $(this), o = i[0].selectionStart, a = $(this).val(); if (46 == e) return a.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != a.indexOf(".")) { if (a.split(".")[1].length <= 1) { if (isNaN(parseFloat(this.value))) return; return !0 } return o < a.indexOf(".") ? !0 : !1 } return !0 }) }, GridOnlyDecimal2of2: function (t) { $(t).keypress(function (t) { var e = t.which ? t.which : t.keyCode, i = $(this).val(); if (46 == e) return i.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != i.indexOf(".")) { if (i.split(".")[1].length > 1) { var o = $(this), a = o[0].selectionStart, r = i.indexOf("."); if (a > r) return !1; if (i.split(".")[0].length > 1) { var o = $(this); return o[0].selectionStart != o[0].selectionEnd ? !0 : !1 } } } else if (i.split(".")[0].length > 1) { var o = $(this); return o[0].selectionStart != o[0].selectionEnd ? !0 : !1 } return !0 }) }, isAlphabet: function (t) { return /^[a-zA-Z]+$/.test(t) }, AllowDecimal: function () { $(".numberonly").keypress(function (t) { return 8 != t.which && 0 != t.which && (t.which < 48 || t.which > 57) ? !1 : void 0 }), $(".number").keypress(function (t) { var e = t.which ? t.which : t.keyCode, i = $(this).val(); if (46 == e) return i.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != i.indexOf(".") && i.split(".")[1].length > 1) { if (isNaN(parseFloat(this.value))) return; this.value = parseFloat(this.value).toFixed(1) } return !0 }), $(".negativenumber").keypress(function (t) { var e = t.which ? t.which : t.keyCode, i = $(this).val(); return 45 != e && e > 31 && (48 > e || e > 57) ? !1 : 45 == e && -1 != i.indexOf("-") ? !1 : !0 }), $(".number-02").keypress(function (t) { var e = t.which ? t.which : t.keyCode, i = $(this).val(); if (46 == e) return i.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != i.indexOf(".") && i.split(".")[1].length > 1) { var o = $(this), a = o[0].selectionStart, r = i.indexOf("."); if (a > r) return !1 } return !0 }), $(".number2-02").keypress(function (t) { var e = t.which ? t.which : t.keyCode, i = $(this).val(); if (46 == e) return i.indexOf(".") < 1 ? !0 : !1; if (46 != e && e > 31 && (48 > e || e > 57)) return !1; if (-1 != i.indexOf(".")) { if (i.split(".")[1].length > 1) { var o = $(this), a = o[0].selectionStart, r = i.indexOf("."); if (a > r) return !1; if (i.split(".")[0].length > 1) { var o = $(this); return o[0].selectionStart != o[0].selectionEnd ? !0 : !1 } } } else if (i.split(".")[0].length > 1) { var o = $(this); return o[0].selectionStart != o[0].selectionEnd ? !0 : !1 } return !0 }), $(".converttoint").blur(function () { $(this).val("" == $(this).val().trim() ? 0 : parseInt($(this).val().trim())) }) }, toFixed: function (t, e) { var i = Math.pow(10, e); return Math.floor(t * i) / i }, AllowAlphaNumeric: function () { $(".alphanumeric").keypress(function (t) { var e = new RegExp("^[ a-zA-Z0-9]+$"), i = String.fromCharCode(t.charCode ? t.charCode : t.which); return e.test(i) ? void 0 : (t.preventDefault(), !1) }) }, UpdateNotificationStatus: function (t) { var e = {}; e.NotificationId = t, e.IsActive = 0, Utility.ServiceCall("POST", "OverviewService.svc/UpdateNotificationStatus", JSON.stringify({ InputData: e }), "json", !1, !1, function (t) { console.log(t) }) }, GetReportQuery: function (t, e) { var i = ""; if ("" != t) { if ("" == e) return t + "= "; var o = e.split(","); return $.each(o, function (e, o) { i += "" == i ? t + "=" + o : "&" + t + "=" + o }), i } }, ReturnSelectedValue: function (t) { var e = [], i = "", o = ""; return i = $("#" + t + " option:selected"), $(i).each(function (t, i) { e.push([$(this).val()]) }), o = e.valueOf().length > 0 ? e.toString() : "" }, remove_tags: function (t) { return jQuery(t).text() }, openWin: function (t) { sessionStorage.reportURL = t; window.open("ReportViewer.html", "_blank") }, currentcnt: 0, LoadAlerts: function () { Utility.ServiceCall("POST", "MasterService.svc/GetNotification", "", "json", !1, !0, function (t) { var e = t.GetNotificationResult; if (Utility.currentcnt != e.length || 0 == e.length) { var i = '<div class="alert-cnt-otr">'; i += "<button class='btn mr-right-01 btn-danger flt-right-a sq-btn' id='btn_delete_all' onclick='Utility.DeleteAll();'>Delete All</button>", i += '<ul class="alert-cnt-otr-ul">', $.each(e, function (t, e) { i += '<li class="mr-bottom-01">', i += '<div class="alert-bx-otr pos-rel-common">'; var o = '<div class="clear"><input type="hidden" value=' + e.NotificationId + "></div>" + e.NotificationMessage + '<div class="clear"></div>' + e.NotificationContent + '<div class="clear"></div><span class="alert-bd-time">' + e.CreatedTime + '</span><span class="alert-bd-date-time-div"> | </span><span class="alert-bd-date">' + e.CreatedDate + '</span><div class="clear"></div><a class="cls-ico-otr" href="#"><img class="cls-ico" src="../img/cls-icon.png"></a>'; i += o, i += "</div>", i += "</li>" }), 0 == e.length && (i += '<li class="mr-bottom-01">', i += '<div class="alert-bx-otr pos-rel-common">', i += '<span class="alert-title">No new notifications found</span>', i += '<div class="clear"></div>', i += "</div>", i += "</li>"), i += "</ul>", i += "</div>", $("#alertsection .alert-head .notif-count-inner").html(e.length), $("#alertsection .alert-cnt-otr").remove(), $("#alertsection").append(i), 0 == e.length && $("#btn_delete_all").hide(), Utility.currentcnt = e.length } }) }, DeleteAll: function () { Utility.ServiceCall("POST", "MasterService.svc/DeleteAllNotifications", JSON.stringify({ SearchText: "" }), "json", !1, !1, function (t) { }) }, PaymentDetail: function (t, e) { var i = '<div class="modal fade" id="modal_adhoc_payment_record" data-keyboard="false" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="largeModal" aria-hidden="true"><div class="modal-dialog modal-lrg"><div class="modal-content"><div class="modal-header"><div class="row mr-top-05"><div class="col-md-12 col-sm-12 "><div class="col-md-3 col-sm-3 "><button class="btn btn-default fr" id="btn_review_remarks" onclick="Utility.ReviewRemarks();" title="Remarks"><img src="../img/comment-btn.png"></button><h3 class="sub-title-btm-c">Payment Records</h3></div><div class="col-md-9 col-sm-9 "><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div></div></div></div><div class="modal-body"><div class="row mr-top-01"><div class="col-md-12 col-sm-12 "><div class="rrd-outer"><div class="row"><div class="col-md-12 col-sm-12 " id="div_grid_sub_processing"><table id="grid_sub_processing"></table></div></div></div></div></div></div></div></div></div>', o = '<div class="modal fade" id="div_modal_view_remarks" data-keyboard="false" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="largeModal" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><div class="row mr-top-05"><div class="col-md-12 col-sm-12 "><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h3 class="sub-title-btm-c">View Payment Remarks</h3></div></div></div><div class="modal-body"><div class="row mr-top-01"><div class="col-md-12 col-sm-12 "><div class="rrd-outer"><div class="row mr-top-05"><div class="col-md-12 col-sm-4 pd-left-00"><table id="grid_view_remarks"></table></div></div><div class="row mr-top-05 pos-rel-common"></div></div></div></div></div></div></div></div>', a = '<div class="modal fade" id="mdl_reject_remarks" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static" aria-labelledby="lblmdl_reject_remarks" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><h4 class="modal-title" id="myModalreject_remarks">Remarks</h4></div><div class="modal-body"><div class="row"><div class="col-md-12 col-sm-12 "><div class="row"><div class="col-md-11 col-sm-11"><textarea class="txt-area-style c-round" style="height:70px;" id="txt_reject_remarks" readonly="readonly"></textarea></div></div><div class="row txt-alg-rt mr-top-02 sq-btn fr" id="div_Remarks"><button class="btn btn-success sq-btn fr" data-dismiss="modal" id="btn_Remarks_Ok">Ok</button></div></div></div></div></div></div></div>'; $("#globalAdhocDiv").append(i), $("#modal_adhoc_payment_record").after(o), $("#div_modal_view_remarks").after(a), $grid = $("#grid_sub_processing"), jQuery("#grid_sub_processing").jqGrid({ datatype: "local", height: 450, width: null, shrinkToFit: !1, colNames: ["S.No.", "ARN No.", "ARN Name", "Scheme", "Channel", "Branch", "Period From", "Period To", "Amount Basis", "Rate (Bps)", "AUM (Lakhs) / Gross Sales (Actual)", "Payment Amount", "Actual Amount Payable (Round Off)", "Remarks", "IsRequired", "PaymentMemoId", "PaymentListId"], colModel: [{ name: "SerialNo", index: "SerialNo", width: 60, align: "center", sortable: !1 }, { name: "ARNNo", width: 90, index: "ARNNo", sortable: !1 }, { name: "ARNName", width: 260, index: "ARNName", sortable: !1 }, { name: "SchemeName", width: 250, index: "SchemeName", sortable: !1 }, { name: "ChannelName", width: 90, index: "ChannelName", sortable: !1 }, { name: "BranchName", index: "BranchName", width: 105, sortable: !1 }, { name: "DateFrom", width: 120, index: "DateFrom", align: "center", sortable: !1 }, { name: "DateTo", width: 110, index: "DateTo", align: "center", sortable: !1 }, { name: "AmountBasisName", index: "AmountBasisName", width: 130, sortable: !1 }, { name: "Rate", index: "Rate", width: 90, sortable: !1 }, { name: "MobilizationAmount", index: "MobilizationAmount", width: 250, sortable: !1 }, { name: "PaymentAmount", index: "PaymentAmount", width: 200, sortable: !1 }, { name: "FreeTextField1", index: "FreeTextField1", width: 250, sortable: !1 }, { name: "", index: "", align: "center", formatter: Utility.ReturnViewRemarksHyperLink, sortable: !1 }, { name: "IsRequired", index: "IsRequired", hidden: !0, sortable: !1 }, { name: "PaymentMemoId", index: "PaymentMemoId", hidden: !0, sortable: !1 }, { name: "PaymentListId", index: "PaymentListId", hidden: !0, sortable: !1 }] }), jQuery("#grid_view_remarks").jqGrid({ datatype: "json", height: 200, width: 765, shrinkToFit: !1, colNames: ["Remarks", "Remarks By", "Modified Date"], colModel: [{ name: "Remarks", width: 545, index: "Remarks", align: "left", sortable: !1 }, { name: "RemarksBy", width: 100, index: "RemarksBy", sortable: !1 }, { name: "Date", width: 120, index: "Date", align: "left", sortable: !1 }] }); var r = 0, n = 0; $.isNumeric(e) ? (r = 0, n = t) : (r = t, n = 0); var s = ""; 0 == r && (s = "SmartSearch"), Utility.ServiceCall("POST", "AdHocService.svc/GetAdHocDetails", JSON.stringify({ PaymentTypeID: n, AdhocStatus: s, AdhocBatchID: r, CreatedByID: 0 }), "json", !1, !1, function (t) { var e = t.GetAdHocDetailsResult; if ($("#grid_sub_processing").jqGrid("clearGridData"), void 0 != e && e.length > 0) { Utility.AdhocRemarks = e[0].MemoStatusDisplay; for (var i = 0; i < e.length; i++) jQuery("#grid_sub_processing").jqGrid("addRowData", parseInt(i + 1), e[i]); $("#modal_adhoc_payment_record").modal("show") } }) }, ReturnViewRemarksHyperLink: function (t, e, i, o) { return '<a href="#" style="text-decoration:none; color:#006bb4;border-bottom:1px solid #006bb4;" onclick="Utility.AdHocPaymentDetail(' + i.PaymentListId + ');">View Remarks</a>' }, ReviewRemarks: function () { $("#txt_reject_remarks").val(Utility.AdhocRemarks), $("#mdl_reject_remarks").modal("show") }, AdHocPaymentDetail: function (t) { Utility.ServiceCall("POST", "AdHocService.svc/GetAuditPaymentDetails", JSON.stringify({ ID: parseInt(t) }), "json", !1, !1, function (t) { var e = t.GetAuditPaymentDetailsResult; if ($("#grid_view_remarks").jqGrid("clearGridData"), void 0 != e && e.length > 0) { for (var i = 0; i < e.length; i++) jQuery("#grid_view_remarks").jqGrid("addRowData", e[i].id, e[i]); $("#div_modal_view_remarks").modal("show") } }) }, CustomFilter: function (t, e, i, o) { function a() { for (var t = 0; t < r.rules.length; t++) if (r.rules[t].field == e) for (var o = 0; o < n.length; o++) { var a = $.parseHTML(n[o][e]), l = !1; switch (r.rules[t].op) { case "cn": a[0].innerHTML.toLowerCase().indexOf(r.rules[t].data.toLowerCase()) > -1 && (l = !0); break; case "eq": a[0].innerHTML == r.rules[t].data && (l = !0); break; case "ne": a[0].innerHTML != r.rules[t].data && (l = !0); break; case "gt": parseInt(r.rules[t].data) < parseInt(a[0].innerHTML) && (l = !0); break; case "lt": parseInt(r.rules[t].data) > parseInt(a[0].innerHTML) && (l = !0); break; case "le": parseInt(r.rules[t].data) >= parseInt(a[0].innerHTML) && (l = !0); break; case "ge": parseInt(r.rules[t].data) <= parseInt(a[0].innerHTML) && (l = !0) } if (l) { for (var d = 0; d < i.length; d++) n[o][i[d]] = a[0].innerHTML; s.push(n[o]) } } } var r = JSON.parse(t.getGridParam("postData").filters), n = "", s = [], l = !1; if (r.rules.length > 0) { for (var d = 0; d < r.rules.length; d++) r.rules[d].field == e && (o(), n = t.jqGrid("getRowData"), l = !0); l ? (a(), t.clearGridData(!0).jqGrid("setGridParam", { datatype: "local", data: s }).trigger("reloadGrid")) : o() } else o() } }; $(function () { function t() { var t, e = new Date, i = (e.getDay(), e.getMonth() + 1), o = e.getDate(), a = e.getYear(), r = e.getHours(), n = e.getMinutes(), s = e.getSeconds(); 0 == r ? (t = " AM", r = 12) : 12 > r ? t = " AM" : 12 == r ? t = " PM" : r > 12 && (t = " PM", r -= 12), 1e3 > a && (a += 1900), 9 >= n && (n = "0" + n), 9 >= s && (s = "0" + s), $("#spn_date").html("" + o + "/" + i + "/" + a + " " + r + ":" + n + ":" + s + t) } function e() { window.history.forward() } Utility.ServiceCall("POST", "BaseRackRateService.svc/GetReportURLHostAndPort", "", "json", !1, !0, function (t) { Utility.ReportHostAndPort = t.GetReportURLHostAndPortResult, Utility.openPentaho = "http://" + Utility.ReportHostAndPort + "/pentaho?userid=joe&password=password", Utility.CamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_BRRnull?solution=DSP_BlackRock&path=&name=CAMS_BRR.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.DistributorReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Dist_BRRnull?solution=DSP_BlackRock&path=&name=Dist_BRR.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.RegenerateReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Regeneratenull?solution=DSP_BlackRock&path=&name=Regenerate.prpt&MemoId_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.AdHocReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHocnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc.prpt&userid=joe&password=password", Utility.SIPReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Dist_SIPnull?Memo_P=###MemoNumber###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=Dist_SIP.prpt&userid=joe&password=password", Utility.TieUpCamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_TieUpnull?solution=DSP_BlackRock&path=&name=CAMS_TieUp.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.SIPCamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_SIPnull?solution=DSP_BlackRock&path=&name=CAMS_SIP.prpt&MemoNumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.AdHocCAMS_FB = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHoc_FBnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc_FB.prpt&userid=joe&password=password", Utility.AdHocCAMS_MB = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHoc_MBnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc_MB.prpt&userid=joe&password=password", Utility.SmartSheetReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Smart_Searchnull?solution=DSP_BlackRock&path=&name=Smart_Search.prpt", Utility.AdhocSummaryReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/AdHoc_Payment_Summary_Reportnull?###INPUT###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=AdHoc_Payment_Summary_Report.prpt&userid=joe&password=password", Utility.SchemeCatWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Scheme_Cat_Wise_Summary_Reportnull?###INPUT###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=Scheme_Cat_Wise_Summary_Report.prpt&userid=joe&password=password", Utility.ChannelWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Channel_Wise_Summary_Reportnull?solution=DSP_BlackRock&path=&name=Channel_Wise_Summary_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.DistributorWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Distributor_Wise_Summary_Reportnull?solution=DSP_BlackRock&path=&name=Distributor_Wise_Summary_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.ZoneSummaryReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Zone_Branch_Reportnull?solution=DSP_BlackRock&path=&name=Zone_Branch_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.ARNWiseReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/ARN_Specific_Reportnull?solution=DSP_BlackRock&path=&name=ARN_Specific_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.CAMSBrokerageFormatSummaryReportPSI = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_BrokerageFormat_Summary_Report_PSInull?solution=DSP_BlackRock&path=&name=CAMS_BrokerageFormat_Summary_Report_PSI.prpt&###INPUT###&output-target=table%2Fexcel;page-mode=flow&userid=joe&password=password", Utility.CAMSBrokerageFormatSummaryReportTrail = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_BrokerageFormat_Summary_Report_Trailnull?solution=DSP_BlackRock&path=&name=CAMS_BrokerageFormat_Summary_Report_Trail.prpt&###INPUT###&output-target=table%2Fcsv;page-mode=stream&userid=joe&password=password" }), Utility.AllowDecimal(); var o = []; $(".token-input-highlighted-token-facebook").each(function () { o.push($(this).attr("title")) }), $(".select-bx-style").on("change", function () { var t = this; for (i = 0; i < t.length; i++) t.options[i].title = t.options[i].text; t.selectedIndex > -1 && (t.onmousemove = function () { t.title = t.options[t.selectedIndex].text }) }), $(".txt-area-style").keyup(function () { var t = this; t.title = $(this).val() }), $(".input-text-bx-style").keyup(function () { var t = this; t.title = $(this).val() }), $(".form-control multiselect-search").each(function () { var t = this; for (i = 0; i < t.length; i++) t.options[i].title = t.options[i].text; t.selectedIndex > -1 && (t.onmousemove = function () { t.title = t.options[t.selectedIndex].text }) }), $(document).on("keydown", function (t) { 8 !== t.which || $(t.target).is("input[type='text']:not([readonly]),input[type='password'], textarea") || t.preventDefault() }), window.onload = function () { t(), setInterval(t, 1e3) }, $(document.body).click(function () { var t = $(event.target); t.is(".cls-ico, #btn_delete_all") || "0px" == $("#alertsection").css("right") && (site.i = 0, $(".alert-sect-outer").animate({ right: "-450px" }, 600)) }), window.onload = e(), window.onpageshow = function (t) { t.persisted && e() } }), $(function () {
    function t(t) { var e = sessionStorage.UserName; e.length > 0 && t.server.connect(e, sessionStorage.UserID) } function e(t) { t.client.onConnected = function (e, r, n, s, l) { for (sessionStorage.setItem("connectionId", e), i = 0; i < n.length; i++) o(t, n[i].ConnectionId, n[i].UserName, n[i].UserId, l); for (i = 0; i < s.length; i++) AddMessage(s[i].UserName, s[i].Message); a() }, t.client.onNewUserConnected = function (e, i, r, n) { $("#divusers a").each(function () { $(this).text() == i && $(this).remove() }), o(t, e, i, r, n), a() }, t.client.onUserDisconnected = function (e, i, a) { $("#" + e).remove(); var r = "private_" + e; $("#" + r).remove(); var n = $('<div class="disconnect">"' + i + '" logged off.</div>'); $(n).hide(), $("#divusers").prepend(n), $(n).fadeIn(200).delay(2e3).fadeOut(200), o(t, null, i, a, null) }, t.client.messageReceived = function (t, e) { AddMessage(t, e) }, t.client.sendPrivateMessage = function (e, i, o, a) { var r = "private_" + e; 0 == $("#" + r).length && n(t, e, r, i, a), $("#" + r).find("#divMessage").append('<div class="message"><span class="userName">' + i + "</span>: " + o + "</div>"); var s = $("#" + r).find("#divMessage")[0].scrollHeight; $("#" + r).find("#divMessage").scrollTop(s) } } function o(t, e, i, o, a) { var n, s = sessionStorage.connectionId, l = ""; if (sessionStorage.UserID != o) { if (s == e); else { if (null != a) if (a.length > 0) { for (var d = 0; d < a.length; d++) o == a[d].SentFrom && (n = a[d]); l = "undefined" != typeof n ? null == e ? $('<a id="' + e + '" class="chatRoom content users offlineuser" style="font-weight:bold;">' + i + " (" + n.CountMsg + ')</a><input type="hidden" id="hdnOppId" value="' + o + '"/>') : $('<a id="' + e + '" class="chatRoom content users onlineuser" style="font-weight:bold;">' + i + " (" + n.CountMsg + ')</a><input type="hidden" id="hdnOppId" value="' + o + '"/>') : null == e ? $('<a id="' + e + '" class="chatRoom content users offlineuser" >' + i + '</a><input type="hidden" id="hdnOppId" value="' + o + '"/>') : $('<a id="' + e + '" class="chatRoom content users onlineuser" >' + i + '</a><input type="hidden" id="hdnOppId" value="' + o + '"/>') } else l = null == e ? $('<a id="' + e + '" class="chatRoom content users offlineuser" >' + i + '</a><input type="hidden" id="hdnOppId" value="' + o + '"/>') : $('<a id="' + e + '" class="chatRoom content users onlineuser" >' + i + '</a><input type="hidden" id="hdnOppId" value="' + o + '"/>'); else l = null == e ? $('<a id="' + e + '" class="chatRoom content users offlineuser" >' + i + '</a><input type="hidden" id="hdnOppId" value="' + o + '"/>') : $('<a id="' + e + '" class="chatRoom content users onlineuser" >' + i + '</a><input type="hidden" id="hdnOppId" value="' + o + '"/>'); $(l).dblclick(function () { $(this).text().indexOf(" (") > -1 && ($(this).css("font-weight", "normal"), $(this).text($(this).text().substring(0, $(this).text().indexOf(" (")))); var e = $(this).attr("id"); s != e && r(t, e, i, o) }) } $("#divusers").append(l) } } function a() { var t = $("#divusers a").filter(function (t) { return $(this).html().indexOf("(") > -1 ? $(this).removeClass("blink").addClass("blink") : void 0 }), e = $("#divusers a").sort(function (t, e) { return $(t).html().indexOf("(") <= -1 && $(e).html().indexOf("(") <= -1 ? $(t).removeClass("blink").html() > $(e).removeClass("blink").html() ? 1 : -1 : void 0 }); $("#divusers").prepend(e), $("#divusers").prepend(t), $("#divusers a").hasClass("blink") ? ($(".open_chat2").addClass("blink"), $(".chaticon").addClass("fa fa-comments blink")) : ($(".open_chat2").removeClass("blink"), $(".chaticon").removeClass("fa fa-comments blink")) } function r(t, e, i, o) { var a = "private_" + e; $("#" + a).length > 0 || n(t, e, a, i, o) } function n(t, e, i, o, r) { var n = ""; n = null == i || "private_null" == i ? '<div id="' + i + '" class=".ui-widget-contentsall draggable" rel="0"><div class="header"><div style="float:right;"><img id="imgDelete"  style="cursor:pointer;" src="../img/delete.png"/></div><span class="selText" rel="0">' + o + '<img src="../img/OfflineUser.gif" class="pull-right"></img></span></div><div id="divHistory"><input id="btnViewHistory" class="submitButton button" type="button" value="View History" style="background-color:black;"/><input type="hidden" id="hdnOppId" value="' + r + '"/></div><div id="divHistoryMessage"></div><div id="divMessage" class="messageArea"></div><div class="buttonBar"><input id="txtPrivateMessage" class="msgText" type="text"   /><input id="btnSendMessage" class="submitButton button" type="button" value="Send"/></div></div>' : '<div id="' + i + '" class=".ui-widget-contentsall draggable" rel="0"><div class="header"><div  style="float:right;"><img id="imgDelete"  style="cursor:pointer;" src="../img/delete.png"/></div><span class="selText" rel="0">' + o + '<img src="../img/OnlineUser.gif" class="pull-right"></span></div><div id="divHistory"><input id="btnViewHistory" class="submitButton button" type="button" value="View History" style="background-color:black;"/><input type="hidden" id="hdnOppId" value="' + r + '"/></div><div id="divHistoryMessage"></div><div id="divMessage" class="messageArea"></div><div class="buttonBar"><input id="txtPrivateMessage" class="msgText" type="text"   /><input id="btnSendMessage" class="submitButton button" type="button" value="Send"/></div></div>'; var l = $(n); l.find("#imgDelete").click(function () { $("#" + i).remove() }), l.find("#btnSendMessage").click(function () { $textBox = l.find("#txtPrivateMessage"); var i = $textBox.val(); i.length > 0 && (t.server.sendPrivateMessage(e, i, r), $textBox.val("")) }), l.find("#btnViewHistory").click(function () { if (a(), $("#divHistoryMessage").hasClass("historyShow")) $("#divHistoryMessage").removeClass("historyShow"), $("#divHistoryMessage").empty(); else { var t = [], e = []; $("#divHistoryMessage").addClass("historyShow"), Utility.ServiceCall("POST", "MasterService.svc/GetChatHistory", JSON.stringify({ SentFrom: sessionStorage.UserID, SentTo: r }), "json", !1, !1, function (i) { if (e = i.GetChatHistoryResult, e.length > 0) { for (var o = [], a = 0; a < e.length; a++) o[a] = e[a].ChatDate + "<br>" + e[a].Message + "<br>"; t = o, $("#divHistoryMessage").html(t) } }) } }), l.find("#txtPrivateMessage").keypress(function (t) { 13 == t.which && l.find("#btnSendMessage").click() }), s(l) } function s(t) { $("#chat_id").prepend(t), t.draggable({ handle: ".header", stop: function () { } }), $("#txtPrivateMessage").focus() } function l() { var t, e = new Date, i = (e.getDay(), e.getMonth() + 1), o = e.getDate(), a = e.getYear(), r = e.getHours(), n = e.getMinutes(), s = e.getSeconds(); 0 == r ? (t = " AM", r = 12) : 12 > r ? t = " AM" : 12 == r ? t = " PM" : r > 12 && (t = " PM", r -= 12), 1e3 > a && (a += 1900), 9 >= n && (n = "0" + n), 9 >= s && (s = "0" + s), $("#spn_date").html("" + o + "/" + i + "/" + a + " " + r + ":" + n + ":" + s + t) } function d() { window.history.forward() } var c = sessionStorage.RoleID; if ("10" == c || "3" == c || "6" == c || "7" == c || "5" == c) { var p = '<div class="index_reload"><div id="chat_area"><div class="chat_box main_chat2 hide_wrap_box" id="chat_id"><div class="user_box"><div class="name open_chat2 left">Chat</div><i class="chaticon"></i><div class="closed2 right" id="icon">^ &nbsp;</div><div class="clear"></div></div><div class="wrap_box2" style="display:none"><div class="message_content"><div id="divusers" class="users"></div></div></div></div></div></div>'; $("#globalDiv").append(p), $(".main_chat2").toggle("bounce", { times: 3 }, "slow"), $(".user_box").click(function () { $(".wrap_box2").is(":visible") ? ($(".wrap_box2").hide(), $(".main_chat2").addClass("hide_wrap_box"), $("#icon").html("^")) : ($(".main_chat2").removeClass("hide_wrap_box"), $("#icon").html("x"), $(".wrap_box2").show()) }); var u = $.connection.notificationHub; e(u), $.connection.hub.start().done(function () { t(u) }) } Utility.ServiceCall("POST", "BaseRackRateService.svc/GetReportURLHostAndPort", "", "json", !1, !0, function (t) {
        Utility.ReportHostAndPort = t.GetReportURLHostAndPortResult, Utility.openPentaho = "http://" + Utility.ReportHostAndPort + "/pentaho?userid=joe&password=password", Utility.CamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_BRRnull?solution=DSP_BlackRock&path=&name=CAMS_BRR.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.DistributorReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Dist_BRRnull?solution=DSP_BlackRock&path=&name=Dist_BRR.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.RegenerateReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Regeneratenull?solution=DSP_BlackRock&path=&name=Regenerate.prpt&MemoId_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.AdHocReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHocnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc.prpt&userid=joe&password=password", Utility.SIPReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Dist_SIPnull?Memo_P=###MemoNumber###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=Dist_SIP.prpt&userid=joe&password=password", Utility.TieUpCamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_TieUpnull?solution=DSP_BlackRock&path=&name=CAMS_TieUp.prpt&Memonumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.SIPCamsReportUrl = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_SIPnull?solution=DSP_BlackRock&path=&name=CAMS_SIP.prpt&MemoNumber_P=###MemoNumber###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.AdHocCAMS_FB = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHoc_FBnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc_FB.prpt&userid=joe&password=password", Utility.AdHocCAMS_MB = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/CAMS_AdHoc_MBnull?MemoNumber_P=###MemoNumber###&Channel_P=###Channel###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=CAMS_AdHoc_MB.prpt&userid=joe&password=password", Utility.SmartSheetReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Smart_Searchnull?solution=DSP_BlackRock&path=&name=Smart_Search.prpt", Utility.AdhocSummaryReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/AdHoc_Payment_Summary_Reportnull?###INPUT###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=AdHoc_Payment_Summary_Report.prpt&userid=joe&password=password",
        Utility.SchemeCatWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Scheme_Cat_Wise_Summary_Reportnull?###INPUT###&output-target=pageable%2Fpdf&solution=DSP_BlackRock&path=&name=Scheme_Cat_Wise_Summary_Report.prpt&userid=joe&password=password", Utility.ChannelWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Channel_Wise_Summary_Reportnull?solution=DSP_BlackRock&path=&name=Channel_Wise_Summary_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.DistributorWiseReportURL = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Distributor_Wise_Summary_Reportnull?solution=DSP_BlackRock&path=&name=Distributor_Wise_Summary_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.ZoneSummaryReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/Zone_Branch_Reportnull?solution=DSP_BlackRock&path=&name=Zone_Branch_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password", Utility.ARNWiseReport = "http://" + Utility.ReportHostAndPort + "/pentaho/content/reporting/execute/DSP_BlackRock/ARN_Specific_Reportnull?solution=DSP_BlackRock&path=&name=ARN_Specific_Report.prpt&###INPUT###&output-target=pageable%2Fpdf&userid=joe&password=password"
    }), Utility.AllowDecimal(); var h = []; $(".token-input-highlighted-token-facebook").each(function () { h.push($(this).attr("title")) }), $(".select-bx-style").on("change", function () { var t = this; for (i = 0; i < t.length; i++) t.options[i].title = t.options[i].text; t.selectedIndex > -1 && (t.onmousemove = function () { t.title = t.options[t.selectedIndex].text }) }), $(".txt-area-style").keyup(function () { var t = this; t.title = $(this).val() }), $(".input-text-bx-style").keyup(function () { var t = this; t.title = $(this).val() }), $(".form-control multiselect-search").each(function () { var t = this; for (i = 0; i < t.length; i++) t.options[i].title = t.options[i].text; t.selectedIndex > -1 && (t.onmousemove = function () { t.title = t.options[t.selectedIndex].text }) }), $(document).on("keydown", function (t) { 8 !== t.which || $(t.target).is("input[type='text']:not([readonly]),input[type='password'], textarea") || t.preventDefault() }), window.onload = function () { l(), setInterval(l, 1e3) }, $(document.body).click(function () { var t = $(event.target); t.is(".cls-ico, #btn_delete_all") || "0px" == $("#alertsection").css("right") && (site.i = 0, $(".alert-sect-outer").animate({ right: "-450px" }, 600)) }), window.onload = d(), window.onpageshow = function (t) { t.persisted && d() }
}), $(function () { var t = 0, e = $.timer(function () { ++t, t / 5 == 1 && (Utility.LoadAlerts(), t = 0) }); e.set({ time: 1e3, autostart: !0 }), $("#alertsection").on("click", ".cls-ico", function () { var e = $(this).parents("div.alert-bx-otr"), i = $(e).find("input[type=hidden]").attr("value"); Utility.UpdateNotificationStatus(i), e.addClass("danger"), e.fadeOut(1e3, function () { $(this).remove() }), t = 4, Utility.LoadAlerts() }) });